<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="696" height="506" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36&quot; version=&quot;7.9.5&quot; editor=&quot;www.draw.io&quot;&gt;&lt;diagram id=&quot;0c246a54-93a8-f8ca-b5d2-449d80c490bf&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-439-61-242-26-0"><rect x="439" y="61" width="242" height="26"/></clipPath><clipPath id="mx-clip-439-87-242-26-0"><rect x="439" y="87" width="242" height="26"/></clipPath><clipPath id="mx-clip-439-113-242-26-0"><rect x="439" y="113" width="242" height="26"/></clipPath></defs><g transform="translate(0.5,0.5)"><rect x="129" y="188" width="501" height="312" rx="46.8" ry="46.8" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><rect x="148" y="403" width="232" height="70" rx="10.5" ry="10.5" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="none"/><rect x="150" y="218" width="230" height="70" rx="10.5" ry="10.5" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="none"/><path d="M 174 243 Q 174 243 174 243" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 2" pointer-events="none"/><path d="M 174 243 L 174 243 L 174 243 L 174 243 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="217" y="244" width="75" height="36" rx="5.4" ry="5.4" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="292" y="244" width="75" height="36" rx="5.4" ry="5.4" fill="#f8cecc" stroke="#b85450" pointer-events="none"/><g transform="translate(285.5,221.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="34" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 36px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Deque</div></div></foreignObject></g><g transform="translate(391.5,244.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="228" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">第一批消息大小达到阈值<span>，此批记录将被发</span><div><span>送，不</span><span>写入新消息。</span><span>有新到达消息时，创建</span></div><div><span>新的</span><span>批记录，新</span><span>消息写入到新的批记录中。</span></div></div></div></foreignObject></g><g transform="translate(391.5,432.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="216" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">第一个批记录没有达到发送条件，可以写<div>入新的消息</div></div></div></foreignObject></g><rect x="13" y="233" width="58" height="240" rx="8.7" ry="8.7" fill="#c3abd0" stroke="none" pointer-events="none"/><path d="M 29.95 327.61 C 30.09 326.76 30.98 326.09 32.11 326 L 44.1 326 L 47.8 328.79 L 47.8 338.26 C 47.74 339.19 46.76 339.94 45.53 340 L 32.11 340 C 31 339.91 30.11 339.26 29.95 338.43 Z M 31.41 338.18 C 31.41 338.51 31.73 338.8 32.16 338.87 L 45.56 338.87 C 45.98 338.8 46.29 338.51 46.28 338.18 L 46.28 329.44 L 43.29 329.44 L 43.29 327.15 L 32.16 327.15 C 31.76 327.22 31.47 327.48 31.45 327.8 Z M 34.63 330.48 L 42.9 330.48 L 42.9 331.64 L 34.63 331.64 Z M 34.63 332.69 L 42.9 332.69 L 42.9 333.85 L 34.63 333.85 Z M 34.63 334.89 L 42.9 334.89 L 42.9 336.07 L 34.63 336.07 Z" fill="#00bef2" stroke="none" pointer-events="none"/><path d="M 29.95 366.61 C 30.09 365.76 30.98 365.09 32.11 365 L 44.1 365 L 47.8 367.79 L 47.8 377.26 C 47.74 378.19 46.76 378.94 45.53 379 L 32.11 379 C 31 378.91 30.11 378.26 29.95 377.43 Z M 31.41 377.18 C 31.41 377.51 31.73 377.8 32.16 377.87 L 45.56 377.87 C 45.98 377.8 46.29 377.51 46.28 377.18 L 46.28 368.44 L 43.29 368.44 L 43.29 366.15 L 32.16 366.15 C 31.76 366.22 31.47 366.48 31.45 366.8 Z M 34.63 369.48 L 42.9 369.48 L 42.9 370.64 L 34.63 370.64 Z M 34.63 371.69 L 42.9 371.69 L 42.9 372.85 L 34.63 372.85 Z M 34.63 373.89 L 42.9 373.89 L 42.9 375.07 L 34.63 375.07 Z" fill="#00bef2" stroke="none" pointer-events="none"/><path d="M 29.95 287.61 C 30.09 286.76 30.98 286.09 32.11 286 L 44.1 286 L 47.8 288.79 L 47.8 298.26 C 47.74 299.19 46.76 299.94 45.53 300 L 32.11 300 C 31 299.91 30.11 299.26 29.95 298.43 Z M 31.41 298.18 C 31.41 298.51 31.73 298.8 32.16 298.87 L 45.56 298.87 C 45.98 298.8 46.29 298.51 46.28 298.18 L 46.28 289.44 L 43.29 289.44 L 43.29 287.15 L 32.16 287.15 C 31.76 287.22 31.47 287.48 31.45 287.8 Z M 34.63 290.48 L 42.9 290.48 L 42.9 291.64 L 34.63 291.64 Z M 34.63 292.69 L 42.9 292.69 L 42.9 293.85 L 34.63 293.85 Z M 34.63 294.89 L 42.9 294.89 L 42.9 296.07 L 34.63 296.07 Z" fill="#00bef2" stroke="none" pointer-events="none"/><path d="M 29.95 397.61 C 30.09 396.76 30.98 396.09 32.11 396 L 44.1 396 L 47.8 398.79 L 47.8 408.26 C 47.74 409.19 46.76 409.94 45.53 410 L 32.11 410 C 31 409.91 30.11 409.26 29.95 408.43 Z M 31.41 408.18 C 31.41 408.51 31.73 408.8 32.16 408.87 L 45.56 408.87 C 45.98 408.8 46.29 408.51 46.28 408.18 L 46.28 399.44 L 43.29 399.44 L 43.29 397.15 L 32.16 397.15 C 31.76 397.22 31.47 397.48 31.45 397.8 Z M 34.63 400.48 L 42.9 400.48 L 42.9 401.64 L 34.63 401.64 Z M 34.63 402.69 L 42.9 402.69 L 42.9 403.85 L 34.63 403.85 Z M 34.63 404.89 L 42.9 404.89 L 42.9 406.07 L 34.63 406.07 Z" fill="#00bef2" stroke="none" pointer-events="none"/><path d="M 29.95 432.61 C 30.09 431.76 30.98 431.09 32.11 431 L 44.1 431 L 47.8 433.79 L 47.8 443.26 C 47.74 444.19 46.76 444.94 45.53 445 L 32.11 445 C 31 444.91 30.11 444.26 29.95 443.43 Z M 31.41 443.18 C 31.41 443.51 31.73 443.8 32.16 443.87 L 45.56 443.87 C 45.98 443.8 46.29 443.51 46.28 443.18 L 46.28 434.44 L 43.29 434.44 L 43.29 432.15 L 32.16 432.15 C 31.76 432.22 31.47 432.48 31.45 432.8 Z M 34.63 435.48 L 42.9 435.48 L 42.9 436.64 L 34.63 436.64 Z M 34.63 437.69 L 42.9 437.69 L 42.9 438.85 L 34.63 438.85 Z M 34.63 439.89 L 42.9 439.89 L 42.9 441.07 L 34.63 441.07 Z" fill="#00bef2" stroke="none" pointer-events="none"/><path d="M 29.95 255.61 C 30.09 254.76 30.98 254.09 32.11 254 L 44.1 254 L 47.8 256.79 L 47.8 266.26 C 47.74 267.19 46.76 267.94 45.53 268 L 32.11 268 C 31 267.91 30.11 267.26 29.95 266.43 Z M 31.41 266.18 C 31.41 266.51 31.73 266.8 32.16 266.87 L 45.56 266.87 C 45.98 266.8 46.29 266.51 46.28 266.18 L 46.28 257.44 L 43.29 257.44 L 43.29 255.15 L 32.16 255.15 C 31.76 255.22 31.47 255.48 31.45 255.8 Z M 34.63 258.48 L 42.9 258.48 L 42.9 259.64 L 34.63 259.64 Z M 34.63 260.69 L 42.9 260.69 L 42.9 261.85 L 34.63 261.85 Z M 34.63 262.89 L 42.9 262.89 L 42.9 264.07 L 34.63 264.07 Z" fill="#00bef2" stroke="none" pointer-events="none"/><g transform="translate(155.5,231.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 57px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#DAE8FC;"><font color="#000000">Partition0对应的消息队列</font></div></div></foreignObject></g><rect x="150" y="313" width="230" height="70" rx="10.5" ry="10.5" fill="#dae8fc" stroke="#6c8ebf" stroke-dasharray="3 3" pointer-events="none"/><g transform="translate(160.5,322.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="54" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 56px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#DAE8FC;"><font color="#000000">Partition1</font><div><font color="#000000">对应的消</font></div><div><font color="#000000">息队列</font></div></div></div></foreignObject></g><g transform="translate(267.5,306.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="34" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 36px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#F8CECC;"><font color="#000000" style="background-color: rgb(218 , 232 , 252)">Deque</font></div></div></foreignObject></g><g transform="translate(391.5,317.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="228" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">第一批消息没有达到阈值，但是等待发送<span>时</span><div><span>间达到阈值，该批记录将被发送，不能写入</span><div>新消息。<span>有新到达的消息时，创建新的批记</span></div><div><span>录，新</span><span>消息写入到新的批记录中。</span></div></div></div></div></foreignObject></g><rect x="217" y="330" width="75" height="36" rx="5.4" ry="5.4" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 188 353 L 188 353" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 188 353 L 188 353 L 188 353 L 188 353 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="292" y="330" width="75" height="36" rx="5.4" ry="5.4" fill="#f8cecc" stroke="#b85450" pointer-events="none"/><rect x="306" y="335" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="322" y="335" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="338" y="335" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="236" y="334" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="252" y="334" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(155.5,417.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 57px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#DAE8FC;"><font color="#000000">Partition2对应的消息队列</font></div></div></foreignObject></g><g transform="translate(100.5,327.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">路由</font></div></div></foreignObject></g><g transform="translate(1.5,200.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">MessageSet</font></div></div></foreignObject></g><g transform="translate(313.5,403.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="34" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 36px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#F8CECC;"><font color="#000000"><span style="background-color: rgb(218 , 232 , 252)">Deque</span></font></div></div></foreignObject></g><g transform="translate(255.5,160.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="109" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">RecordAccumulator</font></div></div></foreignObject></g><rect x="435" y="30" width="250" height="104" rx="11.7" ry="11.7" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 685 56 L 685 41.7 Q 685 30 673.3 30 L 446.7 30 Q 435 30 435 41.7 L 435 56 Z" fill="#994c00" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(518.5,37.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="83" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">ProducerBatch</div></div></foreignObject></g><g fill="#000000" font-family="Comic Sans MS" clip-path="url(#mx-clip-439-61-242-26-0)" font-size="12px"><text x="440.5" y="73.5">+ createdMs: long</text></g><g fill="#000000" font-family="Comic Sans MS" clip-path="url(#mx-clip-439-87-242-26-0)" font-size="12px"><text x="440.5" y="99.5">+ topicPartition:TopicPartition</text></g><g fill="#000000" font-family="Comic Sans MS" clip-path="url(#mx-clip-439-113-242-26-0)" font-size="12px"><text x="440.5" y="125.5">+ recordsBuilder:MemoryRecordsBuilder</text></g><g transform="translate(506.5,2.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: &quot;Comic Sans MS&quot;; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><font color="#000000">批记录</font></div></div></foreignObject></g><rect x="298" y="248" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="314" y="248" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="330" y="248" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="346" y="248" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="227" y="248" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="243" y="248" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="259" y="248" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="298" y="430" width="75" height="36" rx="5.4" ry="5.4" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="322" y="433" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="338" y="433" width="16" height="28" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 71 353 L 134 353 Q 144 353 144 343 L 144 223 Q 144 213 154 213 L 245 213 Q 255 213 255 223 L 255 235.76" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 255 241.76 L 251 233.76 L 255 235.76 L 259 233.76 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 71 353 L 211.76 353" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 217.76 353 L 209.76 357 L 211.76 353 L 209.76 349 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 71 353 L 135 353 Q 145 353 145 363 L 145 472 Q 145 482 155 482 L 326 482 Q 336 482 336 478.12 L 336 474.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 336 468.24 L 340 476.24 L 336 474.24 L 332 476.24 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 348 244 L 446.34 139.98" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 450.46 135.62 L 447.87 144.19 L 446.34 139.98 L 442.06 138.69 Z" fill="#000000" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/></g></svg>